(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{5923:function(t,e,n){"use strict";var r=n(4942),o=n(5861),i=n(7757),s=n.n(i);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(){return(l=(0,o.Z)(s().mark((function t(e){var n,r,o,i,a,l,u=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.timeout,o=void 0===r?16e3:r,i=new AbortController,a=setTimeout((function(){return i.abort()}),o),t.next=6,fetch(e,c(c({},n),{},{signal:i.signal}));case 6:return l=t.sent,clearTimeout(a),t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.Z=function(t){return l.apply(this,arguments)}},2167:function(t,e,n){"use strict";var r=n(3038);var o,i=(o=n(7294))&&o.__esModule?o:{default:o},s=n(1063),a=n(4651),c=n(7426);var l={};function u(t,e,n,r){if(t&&s.isLocalURL(e)){t.prefetch(e,n,r).catch((function(t){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:t&&t.locale;l[e+"%"+n+(o?"%"+o:"")]=!0}}},7426:function(t,e,n){"use strict";var r=n(3038);Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(t){var e=t.rootMargin,n=t.disabled||!s,c=o.useRef(),l=o.useState(!1),u=r(l,2),f=u[0],g=u[1],h=o.useCallback((function(t){c.current&&(c.current(),c.current=void 0),n||f||t&&t.tagName&&(c.current=function(t,e,n){var r=function(t){var e=t.rootMargin||"",n=a.get(e);if(n)return n;var r=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var e=r.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)}))}),t);return a.set(e,n={id:e,observer:o,elements:r}),n}(n),o=r.id,i=r.observer,s=r.elements;return s.set(t,e),i.observe(t),function(){s.delete(t),i.unobserve(t),0===s.size&&(i.disconnect(),a.delete(o))}}(t,(function(t){return t&&g(t)}),{rootMargin:e}))}),[n,e,f]);return o.useEffect((function(){if(!s&&!f){var t=i.requestIdleCallback((function(){return g(!0)}));return function(){return i.cancelIdleCallback(t)}}}),[f]),[h,f]};var o=n(7294),i=n(3447),s="undefined"!==typeof IntersectionObserver;var a=new Map},2560:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});var r=n(5861),o=n(5671),i=n(3144),s=n(7326),a=n(136),c=n(6215),l=n(1120),u=n(4942),f=n(7757),g=n.n(f),h=n(7294),d=(n(1664),n(7304),n(5923)),v=n(5893);function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.Z)(t);if(e){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var b=function(t){(0,a.Z)(n,t);var e=p(n);function n(t){var r;return(0,o.Z)(this,n),r=e.call(this,t),(0,u.Z)((0,s.Z)(r),"getData",(function(){r.getFromApi().then((function(t){if(t){var e=t;if(e){for(var n=JSON.parse(JSON.stringify(e)),o=0,i=Object.keys(e);o<i.length;o++)for(var s=i[o],a=0,c=Object.keys(e[s]);a<c.length;a++){var l=c[a];if(null==e[s][l])e[s][l]="null";else if(Array.isArray(e[s][l])||"object"!==typeof e[s][l])n[s][l]="";else for(var u=0,f=Object.keys(e[s][l]);u<f.length;u++){var g=f[u];null==e[s][l][g]&&(e[s][l][g]="null"),n[s][l][g]=""}}r.setState({newInfoLoaded:!0,inputs:n,config:JSON.parse(JSON.stringify(e)),cachedConfig:JSON.parse(JSON.stringify(e))})}}}))})),r.intervalID=null,r.state={text:null,newInfoLoaded:!1,config:{},inputs:{},timedOut:!1,tab:null,subtab:null},r.save=r.save.bind((0,s.Z)(r)),r.refresh=r.refresh.bind((0,s.Z)(r)),r}return(0,i.Z)(n,[{key:"getFromApi",value:function(){var t=(0,r.Z)(g().mark((function t(){var e,n,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e="localhost"==window.location.hostname?"http://localhost:4000/config":"http://10.0.8.2:4000/config",t.next=4,(0,d.Z)(e);case 4:return n=t.sent,t.next=7,n.json();case 7:return n=t.sent,r=n=n,t.abrupt("return",r);case 13:return t.prev=13,t.t0=t.catch(0),this.setState({timedOut:!0}),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){}},{key:"refresh",value:function(t){this.getData(),this.forceUpdate()}},{key:"parseInt",value:function(t){if("boolean"!==typeof t&&!isNaN(t))return parseFloat(t);if("object"===typeof t)for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];t[r]=this.parseInt(t[r])}return t}},{key:"save",value:function(t){for(var e=this.state.config,n={},r=0,o=Object.keys(this.state.config);r<o.length;r++)for(var i=o[r],s=0,a=Object.keys(this.state.config[i]);s<a.length;s++){var c=a[s];JSON.stringify(e[i][c])!==JSON.stringify(this.state.cachedConfig[i][c])&&(console.log(JSON.stringify(e[i][c])+" is not equal to: "+JSON.stringify(this.state.cachedConfig[i][c])),n.hasOwnProperty(i)||(n[i]={}),n[i][c]=this.parseInt(e[i][c]))}if(0===Object.keys(n).length)return alert("Nothing to save!"),0;this.setState({cachedConfig:JSON.parse(JSON.stringify(this.state.config))}),console.log(n);var l,u={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(n)};l="localhost"==window.location.hostname?"http://localhost:4000/config":"http://10.0.8.2:4000/config",fetch(l,u).then((function(t){return t.text})).then((function(t){console.log("worked")}))}},{key:"render",value:function(){var t=this;if(this.state.error)return(0,v.jsxs)("div",{children:["Error: ",this.state.error.message]});if(this.state.timedOut)return(0,v.jsx)("div",{class:"text-4xl font-bold text-red-600 text-center",children:"Request Timed Out! Make sure you're connected to the robot wifi"});if(!1===this.state.newInfoLoaded)return(0,v.jsx)("div",{children:"Loading..."});for(var e=function(e){"Enter"===e.key&&t.save("a")},n=[],r=function(){for(var r=i[o],s=[],a=function(){var n=l[c],o=void 0;if(Array.isArray(t.state.config[r][n])||null===t.state.config[r][n]||"object"!=typeof t.state.config[r][n])if(Array.isArray(t.state.config[r][n])){var i=[],a=function(e){var o=t.state.config[r][n][e];i.push((0,v.jsxs)("div",{class:"rounded bg-gray-900 p-1 border outline m-1",style:{display:"flex"},children:[(0,v.jsx)("h1",{class:"text-white",children:o}),(0,v.jsx)("img",{style:{cursor:"pointer",padding:"2px"},src:"https://invite-tracker.com/_nuxt/img/role-cross.54e3dd7.svg",onClick:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o,c=t.state.config;c[i][s].splice(c[i][s].indexOf(a),1),t.setState({config:c})},height:"15",width:"15",class:"m-0.5 fill-white"})]}))};for(var u in t.state.config[r][n])a(u);o=(0,v.jsx)("div",{class:"text-center content-center",style:{left:"40%",transform:"translate('-40%', '0%')",position:"absolute"},children:(0,v.jsxs)("div",{class:"bg-gray-700 content-center",style:{display:"flex"},children:[(0,v.jsx)("input",{class:"text-white bg-gray-800",type:"text ",onChange:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,s=t.state.inputs;s[o][i]=e.target.value,t.setState({inputs:s})},value:t.state.inputs[r][n]}),(0,v.jsx)("button",{class:"p-1 bg-gray-500 hover:bg-gray-700 text-white font-bold rounded text-center text-sm",onClick:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,s=t.state.config,a=t.state.inputs;s[o][i].push(t.state.inputs[o][i]),a[o][i]="",t.setState({config:s,inputs:a})},children:"Submit"}),(0,v.jsx)("div",{class:"p-1 bg-gray-800",style:{display:"flex"},children:i})]})})}else{var f=!1,g="text";"boolean"===typeof t.state.config[r][n]&&(f=!0,g="checkbox");var h=function(e){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f,c=t.state.config;o=a?e.target.checked:e.target.value,c[i][s]=o,t.setState({config:c})};o=f&&t.state.config[r][n]?(0,v.jsx)("input",{class:"text-white bg-gray-800",type:g,value:t.state.config[r][n],onChange:h,checked:!0}):(0,v.jsx)("input",{class:"text-white bg-gray-800",type:g,value:t.state.config[r][n],onChange:h,onKeyPress:e})}else{o=[];for(var d=function(){var i=b[p],s=!1,a="text";"boolean"===typeof t.state.config[r][n][i]&&(s=!0,a="checkbox");var c=function(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s,f=t.state.config;o=u?e.target.checked:e.target.value,f[a][c][l]=o,t.setState({config:f})},l=void 0;l=s&&t.state.config[r][n][i]?(0,v.jsx)("input",{class:"text-white bg-gray-800",type:a,value:t.state.config[r][n][i],onChange:c,checked:!0}):(0,v.jsx)("input",{class:"text-white bg-gray-800",type:a,value:t.state.config[r][n][i],onChange:c,onKeyPress:e}),o.push((0,v.jsxs)("div",{class:"text-center",children:[i,(0,v.jsx)("br",{}),(0,v.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold rounded text-center text-sm",onClick:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;t.getFromApi().then((function(e){var n=t.state.config;n[o][s][a]=e[o][s][a],t.setState({config:JSON.parse(JSON.stringify(n))})}))},children:"Refresh"}),(0,v.jsx)("br",{}),l]}))},p=0,b=Object.keys(t.state.config[r][n]);p<b.length;p++)d()}var y="text-center";t.state.subtab!==n&&(y=y.concat(" ","hidden")),s.push((0,v.jsxs)("div",{class:y,children:[n,(0,v.jsx)("br",{}),(0,v.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold rounded text-center text-sm",onClick:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;t.getFromApi().then((function(e){var n=t.state.config;n[o][i]=e[o][i],t.setState({config:JSON.parse(JSON.stringify(n))})}))},children:"Refresh"}),(0,v.jsx)("br",{}),o]}))},c=0,l=Object.keys(t.state.config[r]);c<l.length;c++)a();var u="text-center bg-gray-700";t.state.tab!==r&&(u=u.concat(" ","hidden"));for(var f=[],g=function(){var e=d[h],n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;t.setState({subtab:r})},r=(0,v.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-1 px-3 rounded text-center text-sm",onClick:n,children:e});e==t.state.subtab&&(r=(0,v.jsx)("button",{disabled:!0,class:"bg-gray-700 text-white font-bold py-1 px-3 rounded text-center text-sm",onClick:n,children:e})),f.push(r)},h=0,d=Object.keys(t.state.config[r]);h<d.length;h++)g();n.push((0,v.jsxs)("div",{class:u,children:[(0,v.jsx)("span",{class:"text-4xl",children:r}),(0,v.jsx)("br",{}),(0,v.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold rounded text-center text-base",onClick:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;t.getFromApi().then((function(e){var r=t.state.config;r[n]=e[n],t.setState({config:JSON.parse(JSON.stringify(r))})}))},children:"Refresh Group"}),(0,v.jsx)("br",{}),(0,v.jsx)("div",{class:"text-center",children:f}),s]}))},o=0,i=Object.keys(this.state.config);o<i.length;o++)r();for(var s=[],a=function(){var e=l[c],n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;t.setState({tab:r})},r=(0,v.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",onClick:n,children:e});e==t.state.tab&&(r=(0,v.jsx)("button",{disabled:!0,class:"bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",onClick:n,children:e})),s.push(r)},c=0,l=Object.keys(this.state.config);c<l.length;c++)a();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{class:"bg-gray-900 w-screen h-screen font-mono text-white",children:[(0,v.jsxs)("div",{class:"text-center bg-gray-600",children:[(0,v.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",value:"save",onClick:this.save,children:"save"}),(0,v.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",value:"refresh",onClick:this.refresh,children:"refresh all"}),(0,v.jsx)("button",{class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-center",value:"copy to clipboard",onClick:function(e){var n=JSON.stringify(t.state.config[t.state.tab]);navigator.clipboard.writeText(n,null,"\t")},children:"copy to clipboard"})]}),(0,v.jsx)("div",{class:"text-center",children:s}),n]})})}}]),n}(h.Component);function y(){return(0,v.jsx)(b,{})}},838:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config",function(){return n(2560)}])},1664:function(t,e,n){n(2167)},5861:function(t,e,n){"use strict";function r(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function a(t){r(s,o,i,a,c,"next",t)}function c(t){r(s,o,i,a,c,"throw",t)}a(void 0)}))}}n.d(e,{Z:function(){return o}})}},function(t){t.O(0,[774,888,179],(function(){return e=838,t(t.s=e);var e}));var e=t.O();_N_E=e}]);